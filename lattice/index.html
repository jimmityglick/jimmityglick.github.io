<html lang="en"><head>
<meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Lattice Cube | Intuitive Power Sets</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,1,0">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=JetBrains+Mono&display=swap');
    
    body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
    .mono { font-family: 'JetBrains+Mono', monospace; }
    
    .lattice-node {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: pointer;
    }
    .lattice-node:hover { filter: drop-shadow(0 0 10px rgba(59, 130, 246, 0.6)); }
    
    .active-1 { stroke: #3b82f6; stroke-width: 4px; filter: drop-shadow(0 0 5px #3b82f6); }
    .active-2 { stroke: #10b981; stroke-width: 4px; filter: drop-shadow(0 0 5px #10b981); }
    .active-join { stroke: #f59e0b; stroke-width: 4px; filter: drop-shadow(0 0 5px #f59e0b); }
    .active-meet { stroke: #ef4444; stroke-width: 4px; filter: drop-shadow(0 0 5px #ef4444); }

    .venn-circle { transition: opacity 0.3s ease; opacity: 0.2; }
    .venn-active { opacity: 0.8; }

    /* Custom scrollbar */
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: #f1f1f1; }
    ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
  </style>
  <!-- 
    "/gen?prompt=realistic+red+apple+isolated+on+white+background&aspect=1:1"
    "/gen?prompt=ripe+yellow+banana+isolated+on+white+background&aspect=1:1"
    "/gen?prompt=vibrant+red+cherries+pair+isolated+on+white+background&aspect=1:1"
    "/gen?prompt=minimalist+abstract+geometric+cube+background+blue+and+white+professional&aspect=16:9"
  -->
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.pointer-events-none{pointer-events:none}.absolute{position:absolute}.relative{position:relative}.inset-0{inset:0px}.z-10{z-index:10}.mx-auto{margin-left:auto;margin-right:auto}.mb-1{margin-bottom:0.25rem}.mb-2{margin-bottom:0.5rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mt-2{margin-top:0.5rem}.mt-8{margin-top:2rem}.flex{display:flex}.grid{display:grid}.aspect-square{aspect-ratio:1 / 1}.h-4{height:1rem}.h-64{height:16rem}.h-8{height:2rem}.h-full{height:100%}.w-4{width:1rem}.w-8{width:2rem}.w-full{width:100%}.max-w-2xl{max-width:42rem}.max-w-4xl{max-width:56rem}.max-w-7xl{max-width:80rem}.max-w-\[500px\]{max-width:500px}.flex-1{flex:1 1 0%}.cursor-pointer{cursor:pointer}.list-none{list-style-type:none}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:0.25rem}.gap-2{gap:0.5rem}.gap-3{gap:0.75rem}.gap-4{gap:1rem}.gap-8{gap:2rem}.space-y-3 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.space-y-4 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.rounded-2xl{border-radius:1rem}.rounded-3xl{border-radius:1.5rem}.rounded-full{border-radius:9999px}.rounded-xl{border-radius:0.75rem}.border{border-width:1px}.border-2{border-width:2px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-amber-100{--tw-border-opacity:1;border-color:rgb(254 243 199 / var(--tw-border-opacity, 1))}.border-amber-500{--tw-border-opacity:1;border-color:rgb(245 158 11 / var(--tw-border-opacity, 1))}.border-blue-600{--tw-border-opacity:1;border-color:rgb(37 99 235 / var(--tw-border-opacity, 1))}.border-emerald-600{--tw-border-opacity:1;border-color:rgb(5 150 105 / var(--tw-border-opacity, 1))}.border-rose-100{--tw-border-opacity:1;border-color:rgb(255 228 230 / var(--tw-border-opacity, 1))}.border-rose-500{--tw-border-opacity:1;border-color:rgb(244 63 94 / var(--tw-border-opacity, 1))}.border-slate-100{--tw-border-opacity:1;border-color:rgb(241 245 249 / var(--tw-border-opacity, 1))}.border-slate-200{--tw-border-opacity:1;border-color:rgb(226 232 240 / var(--tw-border-opacity, 1))}.border-slate-50{--tw-border-opacity:1;border-color:rgb(248 250 252 / var(--tw-border-opacity, 1))}.bg-amber-50{--tw-bg-opacity:1;background-color:rgb(255 251 235 / var(--tw-bg-opacity, 1))}.bg-rose-50{--tw-bg-opacity:1;background-color:rgb(255 241 242 / var(--tw-bg-opacity, 1))}.bg-slate-100{--tw-bg-opacity:1;background-color:rgb(241 245 249 / var(--tw-bg-opacity, 1))}.bg-slate-50{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity, 1))}.bg-slate-900{--tw-bg-opacity:1;background-color:rgb(15 23 42 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.fill-slate-500{fill:#64748b}.object-cover{object-fit:cover}.p-2{padding:0.5rem}.p-3{padding:0.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-12{padding-top:3rem;padding-bottom:3rem}.py-16{padding-top:4rem;padding-bottom:4rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-6{padding-bottom:1.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-5xl{font-size:3rem;line-height:1}.text-\[10px\]{font-size:10px}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:0.75rem;line-height:1rem}.text-\[12px\]{font-size:12px}.font-bold{font-weight:700}.font-extrabold{font-weight:800}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.italic{font-style:italic}.leading-relaxed{line-height:1.625}.tracking-tight{letter-spacing:-0.025em}.tracking-wider{letter-spacing:0.05em}.text-amber-500{--tw-text-opacity:1;color:rgb(245 158 11 / var(--tw-text-opacity, 1))}.text-amber-800{--tw-text-opacity:1;color:rgb(146 64 14 / var(--tw-text-opacity, 1))}.text-blue-600{--tw-text-opacity:1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-emerald-600{--tw-text-opacity:1;color:rgb(5 150 105 / var(--tw-text-opacity, 1))}.text-green-500{--tw-text-opacity:1;color:rgb(34 197 94 / var(--tw-text-opacity, 1))}.text-indigo-500{--tw-text-opacity:1;color:rgb(99 102 241 / var(--tw-text-opacity, 1))}.text-orange-500{--tw-text-opacity:1;color:rgb(249 115 22 / var(--tw-text-opacity, 1))}.text-purple-500{--tw-text-opacity:1;color:rgb(168 85 247 / var(--tw-text-opacity, 1))}.text-rose-500{--tw-text-opacity:1;color:rgb(244 63 94 / var(--tw-text-opacity, 1))}.text-rose-800{--tw-text-opacity:1;color:rgb(159 18 57 / var(--tw-text-opacity, 1))}.text-slate-200{--tw-text-opacity:1;color:rgb(226 232 240 / var(--tw-text-opacity, 1))}.text-slate-300{--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity, 1))}.text-slate-400{--tw-text-opacity:1;color:rgb(148 163 184 / var(--tw-text-opacity, 1))}.text-slate-500{--tw-text-opacity:1;color:rgb(100 116 139 / var(--tw-text-opacity, 1))}.text-slate-600{--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity, 1))}.text-slate-700{--tw-text-opacity:1;color:rgb(51 65 85 / var(--tw-text-opacity, 1))}.text-slate-900{--tw-text-opacity:1;color:rgb(15 23 42 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.opacity-30{opacity:0.3}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.hover\:bg-slate-200:hover{--tw-bg-opacity:1;background-color:rgb(226 232 240 / var(--tw-bg-opacity, 1))}.hover\:bg-slate-50:hover{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity, 1))}.hover\:text-blue-500:hover{--tw-text-opacity:1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.group[open] .group-open\:rotate-180{--tw-rotate:180deg;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@media (min-width: 640px){.sm\:grid-cols-4{grid-template-columns:repeat(4, minmax(0, 1fr))}}@media (min-width: 768px){.md\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}}@media (min-width: 1024px){.lg\:col-span-5{grid-column:span 5 / span 5}.lg\:col-span-7{grid-column:span 7 / span 7}.lg\:grid-cols-12{grid-template-columns:repeat(12, minmax(0, 1fr))}}</style>
</head>
<body class="text-slate-900">

  <!-- Header Section -->
  <header class="relative h-64 overflow-hidden flex items-center justify-center bg-slate-900 text-white">
    <img src="./images/ca1fc0e6-0c6a-4042-9238-1b9a571f54ff.png" alt="Geometric Background" class="absolute inset-0 w-full h-full object-cover opacity-30" style="">
    <div class="relative z-10 text-center px-4">
      <h1 class="text-5xl font-extrabold tracking-tight mb-2">The Lattice Cube</h1>
      <p class="text-xl text-slate-300 max-w-2xl mx-auto">Making Order Theory as intuitive as a Rubik's Cube. Explore the Power Set of 3 objects (2<sup>3</sup> = 8) as a complete distributive lattice.</p>
    </div>
  </header>

  <main class="max-w-7xl mx-auto px-4 py-12 grid grid-cols-1 lg:grid-cols-12 gap-8">
    
    <!-- Left Panel: The Hasse Diagram -->
    <section class="lg:col-span-7 bg-white rounded-3xl shadow-xl border border-slate-100 p-8 flex flex-col items-center">
      <div class="w-full flex justify-between items-center mb-6">
        <div>
          <h2 class="text-2xl font-bold flex items-center gap-2">
            <span class="material-symbols-outlined text-blue-600">account_tree</span>
            Hasse Diagram
          </h2>
          <p class="text-slate-500 text-sm">Select two nodes to calculate their Meet and Join.</p>
        </div>
        <div class="flex gap-2">
            <button onclick="resetSelection()" class="px-4 py-2 bg-slate-100 hover:bg-slate-200 rounded-full text-sm font-medium transition-colors">Reset</button>
        </div>
      </div>

      <!-- Interactive SVG Lattice -->
      <div class="relative w-full aspect-square max-w-[500px]">
        <svg viewBox="0 0 400 450" class="w-full h-full" id="lattice-svg">
          <!-- Edges (drawn by JS) -->
          <g id="edges-layer" stroke="#e2e8f0" stroke-width="2"><line x1="200" y1="400" x2="100" y2="300" id="edge-0-1"></line><line x1="200" y1="400" x2="200" y2="300" id="edge-0-2"></line><line x1="200" y1="400" x2="300" y2="300" id="edge-0-3"></line><line x1="100" y1="300" x2="100" y2="150" id="edge-1-4"></line><line x1="100" y1="300" x2="200" y2="150" id="edge-1-5"></line><line x1="200" y1="300" x2="100" y2="150" id="edge-2-4"></line><line x1="200" y1="300" x2="300" y2="150" id="edge-2-6"></line><line x1="300" y1="300" x2="200" y2="150" id="edge-3-5"></line><line x1="300" y1="300" x2="300" y2="150" id="edge-3-6"></line><line x1="100" y1="150" x2="200" y2="50" id="edge-4-7"></line><line x1="200" y1="150" x2="200" y2="50" id="edge-5-7"></line><line x1="300" y1="150" x2="200" y2="50" id="edge-6-7"></line></g>
          <!-- Nodes (drawn by JS) -->
          <g id="nodes-layer"><g class="lattice-node" data-id="0"><circle cx="200" cy="400" r="14" fill="#fff" stroke="#94a3b8" stroke-width="2" id="circle-0"></circle><text x="200" y="435" text-anchor="middle" class="text-[12px] font-bold fill-slate-500 pointer-events-none">∅</text></g><g class="lattice-node" data-id="1"><circle cx="100" cy="300" r="14" fill="#fff" stroke="#94a3b8" stroke-width="2" id="circle-1"></circle><text x="100" y="335" text-anchor="middle" class="text-[12px] font-bold fill-slate-500 pointer-events-none">{A}</text></g><g class="lattice-node" data-id="2"><circle cx="200" cy="300" r="14" fill="#fff" stroke="#94a3b8" stroke-width="2" id="circle-2"></circle><text x="200" y="335" text-anchor="middle" class="text-[12px] font-bold fill-slate-500 pointer-events-none">{B}</text></g><g class="lattice-node" data-id="3"><circle cx="300" cy="300" r="14" fill="#fff" stroke="#94a3b8" stroke-width="2" id="circle-3"></circle><text x="300" y="335" text-anchor="middle" class="text-[12px] font-bold fill-slate-500 pointer-events-none">{C}</text></g><g class="lattice-node" data-id="4"><circle cx="100" cy="150" r="14" fill="#fff" stroke="#94a3b8" stroke-width="2" id="circle-4"></circle><text x="100" y="185" text-anchor="middle" class="text-[12px] font-bold fill-slate-500 pointer-events-none">{A,B}</text></g><g class="lattice-node" data-id="5"><circle cx="200" cy="150" r="14" fill="#fff" stroke="#94a3b8" stroke-width="2" id="circle-5"></circle><text x="200" y="185" text-anchor="middle" class="text-[12px] font-bold fill-slate-500 pointer-events-none">{A,C}</text></g><g class="lattice-node" data-id="6"><circle cx="300" cy="150" r="14" fill="#fff" stroke="#94a3b8" stroke-width="2" id="circle-6"></circle><text x="300" y="185" text-anchor="middle" class="text-[12px] font-bold fill-slate-500 pointer-events-none">{B,C}</text></g><g class="lattice-node" data-id="7"><circle cx="200" cy="50" r="14" fill="#fff" stroke="#94a3b8" stroke-width="2" id="circle-7"></circle><text x="200" y="85" text-anchor="middle" class="text-[12px] font-bold fill-slate-500 pointer-events-none">{A,B,C}</text></g></g>
        </svg>
      </div>

      <div class="mt-8 grid grid-cols-2 sm:grid-cols-4 gap-4 w-full">
        <div class="flex items-center gap-2 text-sm font-semibold text-blue-600">
            <div class="w-4 h-4 rounded-full border-2 border-blue-600"></div> Selection A
        </div>
        <div class="flex items-center gap-2 text-sm font-semibold text-emerald-600">
            <div class="w-4 h-4 rounded-full border-2 border-emerald-600"></div> Selection B
        </div>
        <div class="flex items-center gap-2 text-sm font-semibold text-amber-500">
            <div class="w-4 h-4 rounded-full border-2 border-amber-500"></div> Join (A ∨ B)
        </div>
        <div class="flex items-center gap-2 text-sm font-semibold text-rose-500">
            <div class="w-4 h-4 rounded-full border-2 border-rose-500"></div> Meet (A ∧ B)
        </div>
      </div>
    </section>

    <!-- Right Panel: Inspection & Theory -->
    <section class="lg:col-span-5 space-y-6">
      
      <!-- Current Selection Details -->
      <div class="bg-white rounded-3xl shadow-lg border border-slate-100 p-6">
        <h3 class="text-lg font-bold mb-4 flex items-center gap-2">
            <span class="material-symbols-outlined text-indigo-500">visibility</span>
            Element Inspector
        </h3>
        <div id="inspector-content" class="space-y-4">
            <div class="p-4 bg-slate-50 rounded-2xl flex items-center gap-4">
                <div id="inspector-icons" class="flex gap-2">
                    <!-- Fruit Icons dynamic -->
                </div>
                <div class="flex-1">
                    <p class="text-xs uppercase font-bold text-slate-400 tracking-wider">Current Node</p>
                    <p id="inspector-name" class="text-lg font-bold text-slate-700">Hover or click a node</p>
                </div>
            </div>
            
            <!-- Venn Diagram Visualization -->
            <div class="flex justify-center py-4">
                <svg width="200" height="150" viewBox="0 0 200 150">
                    <circle id="venn-A" cx="75" cy="65" r="50" fill="#3b82f6" class="venn-circle"></circle>
                    <circle id="venn-B" cx="125" cy="65" r="50" fill="#facc15" class="venn-circle"></circle>
                    <circle id="venn-C" cx="100" cy="100" r="50" fill="#ef4444" class="venn-circle"></circle>
                    <text x="45" y="45" font-size="12" font-weight="bold" fill="white">A</text>
                    <text x="145" y="45" font-size="12" font-weight="bold" fill="white">B</text>
                    <text x="100" y="135" font-size="12" font-weight="bold" fill="white" text-anchor="middle">C</text>
                </svg>
            </div>
        </div>
      </div>

      <!-- Lattice Properties Accordion -->
      <div class="bg-white rounded-3xl shadow-lg border border-slate-100 overflow-hidden">
        <div class="p-6 border-b border-slate-50">
            <h3 class="text-lg font-bold">Lattice Properties</h3>
        </div>
        
        <!-- Property: Concrete -->
        <details class="group border-b border-slate-50" open="">
            <summary class="flex justify-between items-center p-6 cursor-pointer hover:bg-slate-50 transition-colors list-none">
                <span class="font-semibold flex items-center gap-3">
                    <span class="material-symbols-outlined text-green-500">shopping_basket</span>
                    Concrete Objects
                </span>
                <span class="material-symbols-outlined group-open:rotate-180 transition-transform">expand_more</span>
            </summary>
            <div class="px-6 pb-6 text-slate-600 text-sm leading-relaxed space-y-3">
                <p>A lattice is a structured collection. Here, our atoms are three distinct objects:</p>
                <div class="grid grid-cols-3 gap-2">
                    <div class="bg-slate-50 p-2 rounded-xl text-center">
                        <img src="./images/568d8a59-6f51-4a85-85b6-103dc9ff2eec.png" class="w-8 h-8 mx-auto mb-1" style="">
                        <span class="text-[10px] font-bold">Apple (A)</span>
                    </div>
                    <div class="bg-slate-50 p-2 rounded-xl text-center">
                        <img src="./images/d16c60be-c4fc-44ae-a908-9627170ffe02.png" class="w-8 h-8 mx-auto mb-1" style="">
                        <span class="text-[10px] font-bold">Banana (B)</span>
                    </div>
                    <div class="bg-slate-50 p-2 rounded-xl text-center">
                        <img src="./images/1db0cc46-d27e-46db-80ce-ffcb68868f71.png" class="w-8 h-8 mx-auto mb-1" style="">
                        <span class="text-[10px] font-bold">Cherry (C)</span>
                    </div>
                </div>
            </div>
        </details>

        <!-- Property: Algebraic -->
        <details class="group border-b border-slate-50">
            <summary class="flex justify-between items-center p-6 cursor-pointer hover:bg-slate-50 transition-colors list-none">
                <span class="font-semibold flex items-center gap-3">
                    <span class="material-symbols-outlined text-purple-500">function</span>
                    Algebraic: Meet &amp; Join
                </span>
                <span class="material-symbols-outlined group-open:rotate-180 transition-transform">expand_more</span>
            </summary>
            <div class="px-6 pb-6 text-slate-600 text-sm space-y-3">
                <div class="bg-amber-50 p-4 rounded-xl border border-amber-100">
                    <p class="font-bold text-amber-800 mb-1">Join (Supremum) ∨</p>
                    <p>The smallest set that contains both elements. In power sets, this is the <strong>Union (∪)</strong>.</p>
                </div>
                <div class="bg-rose-50 p-4 rounded-xl border border-rose-100">
                    <p class="font-bold text-rose-800 mb-1">Meet (Infimum) ∧</p>
                    <p>The largest set contained within both elements. In power sets, this is the <strong>Intersection (∩)</strong>.</p>
                </div>
            </div>
        </details>

        <!-- Property: Distributive -->
        <details class="group">
            <summary class="flex justify-between items-center p-6 cursor-pointer hover:bg-slate-50 transition-colors list-none">
                <span class="font-semibold flex items-center gap-3">
                    <span class="material-symbols-outlined text-orange-500">balance</span>
                    Distributivity
                </span>
                <span class="material-symbols-outlined group-open:rotate-180 transition-transform">expand_more</span>
            </summary>
            <div class="px-6 pb-6 text-slate-600 text-sm space-y-3">
                <p>Every Power Set Lattice is <strong>distributive</strong>. Like multiplication over addition:</p>
                <div class="mono bg-slate-900 text-slate-200 p-3 rounded-xl text-xs">
                    x ∧ (y ∨ z) = (x ∧ y) ∨ (x ∧ z)
                </div>
                <p class="text-xs italic">This means there are no "tangled" dependencies like the diamond lattice (M3) or pentagon lattice (N5).</p>
            </div>
        </details>
      </div>

    </section>
  </main>

  <section class="bg-slate-50 py-16 border-t border-slate-200">
    <div class="max-w-4xl mx-auto px-4 text-center">
        <h2 class="text-3xl font-bold mb-6 italic text-slate-400">"The atoms of thought"</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-left">
            <div>
                <h4 class="font-bold text-slate-900 mb-2">Bottom (0)</h4>
                <p class="text-slate-600 text-sm leading-relaxed">The empty set &empty;. It is the 'nothing' from which all subsets grow. In the diagram, it's the root node.</p>
            </div>
            <div>
                <h4 class="font-bold text-slate-900 mb-2">Top (1)</h4>
                <p class="text-slate-600 text-sm leading-relaxed">The universal set {A,B,C}. It is the 'everything' containing all objects. In the diagram, it's the apex node.</p>
            </div>
            <div>
                <h4 class="font-bold text-slate-900 mb-2">Complements</h4>
                <p class="text-slate-600 text-sm leading-relaxed">Every element has a unique opposite. The complement of {A} is {B,C}. Together they join to the Top and meet at the Bottom.</p>
            </div>
        </div>
    </div>
  </section>

  <footer class="bg-white border-t border-slate-200 py-8 text-center text-slate-400 text-sm">
    <p>Inspired by Birkhoff's Lattice Theory and the structure of Boolean Algebra.</p>
    <div class="mt-2 flex justify-center gap-4">
        <a href="https://patternatlas.com/v0/sketches/powerset-lattice/" target="_blank" class="hover:text-blue-500 transition-colors flex items-center gap-1">
            <span class="material-symbols-outlined text-sm">link</span> PatternAtlas Reference
        </a>
        <a href="https://demonstrations.wolfram.com/HasseDiagramOfPowerSets/" target="_blank" class="hover:text-blue-500 transition-colors flex items-center gap-1">
            <span class="material-symbols-outlined text-sm">link</span> Wolfram Demonstration
        </a>
    </div>
  </footer>

  <script>
    /**
     * LATTICE CONFIGURATION
     */
    const elements = ["Apple", "Banana", "Cherry"];
    const nodes = [
        { id: 0, set: [], label: "∅", level: 0, x: 200, y: 400 },
        { id: 1, set: [0], label: "{A}", level: 1, x: 100, y: 300 },
        { id: 2, set: [1], label: "{B}", level: 1, x: 200, y: 300 },
        { id: 3, set: [2], label: "{C}", level: 1, x: 300, y: 300 },
        { id: 4, set: [0, 1], label: "{A,B}", level: 2, x: 100, y: 150 },
        { id: 5, set: [0, 2], label: "{A,C}", level: 2, x: 200, y: 150 },
        { id: 6, set: [1, 2], label: "{B,C}", level: 2, x: 300, y: 150 },
        { id: 7, set: [0, 1, 2], label: "{A,B,C}", level: 3, x: 200, y: 50 }
    ];

    const edges = [
        [0, 1], [0, 2], [0, 3],
        [1, 4], [1, 5],
        [2, 4], [2, 6],
        [3, 5], [3, 6],
        [4, 7], [5, 7], [6, 7]
    ];

    const fruitImages = [
        "./images/568d8a59-6f51-4a85-85b6-103dc9ff2eec.png",
        "./images/d16c60be-c4fc-44ae-a908-9627170ffe02.png",
        "./images/1db0cc46-d27e-46db-80ce-ffcb68868f71.png"
    ];

    let selection = { a: null, b: null };

    /**
     * INITIALIZATION
     */
    function initLattice() {
        const nodesLayer = document.getElementById('nodes-layer');
        const edgesLayer = document.getElementById('edges-layer');

        // Draw Edges
        edges.forEach(([u, v]) => {
            const nodeU = nodes.find(n => n.id === u);
            const nodeV = nodes.find(n => n.id === v);
            const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
            line.setAttribute("x1", nodeU.x);
            line.setAttribute("y1", nodeU.y);
            line.setAttribute("x2", nodeV.x);
            line.setAttribute("y2", nodeV.y);
            line.id = `edge-${u}-${v}`;
            edgesLayer.appendChild(line);
        });

        // Draw Nodes
        nodes.forEach(node => {
            const g = document.createElementNS("http://www.w3.org/2000/svg", "g");
            g.setAttribute("class", "lattice-node");
            g.setAttribute("data-id", node.id);
            g.onclick = () => handleNodeClick(node.id);
            g.onmouseenter = () => inspectNode(node.id);

            const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
            circle.setAttribute("cx", node.x);
            circle.setAttribute("cy", node.y);
            circle.setAttribute("r", 14);
            circle.setAttribute("fill", "#fff");
            circle.setAttribute("stroke", "#94a3b8");
            circle.setAttribute("stroke-width", "2");
            circle.id = `circle-${node.id}`;

            const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
            text.setAttribute("x", node.x);
            text.setAttribute("y", node.y + 35);
            text.setAttribute("text-anchor", "middle");
            text.setAttribute("class", "text-[12px] font-bold fill-slate-500 pointer-events-none");
            text.textContent = node.label;

            g.appendChild(circle);
            g.appendChild(text);
            nodesLayer.appendChild(g);
        });
    }

    /**
     * INTERACTIVITY LOGIC
     */
    function handleNodeClick(id) {
        if (selection.a === id) {
            selection.a = null;
        } else if (selection.b === id) {
            selection.b = null;
        } else if (selection.a === null) {
            selection.a = id;
        } else {
            selection.b = id;
        }
        updateVisualization();
    }

    function resetSelection() {
        selection = { a: null, b: null };
        updateVisualization();
    }

    function inspectNode(id) {
        const node = nodes.find(n => n.id === id);
        const nameEl = document.getElementById('inspector-name');
        const iconsEl = document.getElementById('inspector-icons');
        
        nameEl.textContent = node.label === "∅" ? "Empty Set (Bottom)" : node.label;
        iconsEl.innerHTML = '';
        
        node.set.forEach(idx => {
            const img = document.createElement('img');
            img.src = fruitImages[idx];
            img.className = "w-8 h-8 rounded-lg shadow-sm bg-white";
            iconsEl.appendChild(img);
        });

        // Update Venn
        updateVenn(node.set);
    }

    function updateVenn(indices) {
        ['A', 'B', 'C'].forEach((letter, i) => {
            const circle = document.getElementById(`venn-${letter}`);
            if (indices.includes(i)) {
                circle.classList.add('venn-active');
            } else {
                circle.classList.remove('venn-active');
            }
        });
    }

    function updateVisualization() {
        // Clear previous states
        nodes.forEach(n => {
            const c = document.getElementById(`circle-${n.id}`);
            c.className.baseVal = '';
            c.setAttribute('stroke', '#94a3b8');
        });

        // Highlight A and B
        if (selection.a !== null) {
            document.getElementById(`circle-${selection.a}`).classList.add('active-1');
        }
        if (selection.b !== null) {
            document.getElementById(`circle-${selection.b}`).classList.add('active-2');
        }

        // Calculate Join and Meet
        if (selection.a !== null && selection.b !== null) {
            const setA = nodes.find(n => n.id === selection.a).set;
            const setB = nodes.find(n => n.id === selection.b).set;

            // Meet = Intersection
            const meetSet = setA.filter(x => setB.includes(x));
            const meetNode = nodes.find(n => 
                n.set.length === meetSet.length && 
                meetSet.every(v => n.set.includes(v))
            );

            // Join = Union
            const joinSet = [...new Set([...setA, ...setB])];
            const joinNode = nodes.find(n => 
                n.set.length === joinSet.length && 
                joinSet.every(v => n.set.includes(v))
            );

            if (meetNode) document.getElementById(`circle-${meetNode.id}`).classList.add('active-meet');
            if (joinNode) document.getElementById(`circle-${joinNode.id}`).classList.add('active-join');
        }
    }

    window.onload = () => {
        initLattice();
    };
  </script>


</body></html>
